# 11_ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ ë§Œë“¤ê¸°
> **ê¸°ì¡´ì˜** ì •ì˜ëœ **ì˜ˆì™¸ í´ë˜ìŠ¤ ì™¸ì—** í•„ìš”ì— ë”°ë¼ **í”„ë¡œê·¸ë˜ë¨¸ê°€ ìƒˆë¡œìš´ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ì—¬ ì‚¬ìš©**í•  ìˆ˜ ìˆë‹¤.
ë³´í†µ Exceptioní´ë˜ìŠ¤ ë˜ëŠ” RuntimeExceptioní´ë˜ìŠ¤ë¡œë¶€í„° ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì§€ë§Œ,
í•„ìš”ì— ë”°ë¼ì„œ ì•Œë§ì€ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤.
> 

```java
class MyException extends Exception {
		MyException(String msg) {  // ë¬¸ìì—´ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ìƒì„±ì
				super(msg);            // ì¡°ìƒì¸ Exceptioní´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•œë‹¤.
		}
}
```

- Exceptioí´ë˜ìŠ¤ë¡œë¶€í„° ìƒì†ë°›ì•„ MyExceptioní´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤.
- í•„ìš”í•˜ë‹¤ë©´, ë©¤ë²„ë³€ìˆ˜ë‚˜ ë©”ì„œë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
- Exceptioní´ë˜ìŠ¤ëŠ” ìƒì„±ì‹œì— String ê°’ì„ ë°›ì•„ì„œ ë©”ì„¸ì§€ë¡œ ì €ì¥í•  ìˆ˜ ìˆë‹¤.
- ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ í´ë˜ìŠ¤ë„ ë©”ì„¸ì§€ë¥¼ ì €ì¥í•  ìˆ˜ ìˆìœ¼ë ¤ë©´, ìœ„ì—ì„œ ë³´ëŠ” ê²ƒê³¼ ê°™ì´ Stringì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ìƒì„±ìë¥¼ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•œë‹¤.

```java
class MyException extends Exception {
		// ì—ëŸ¬ ì½”ë“œ ê°’ì„ ì €ì¥í•˜ê¸° ìœ„í•œ í•„ë“œ ì¶”ê°€.
		private final int ERR_CODE;  // ìƒì„±ìë¥¼ í†µí•´ ì´ˆê¸°í™” í•œë‹¤.

		MyExeption(String msg, int errCode) {  // ìƒì„±ì
				super(msg);
				ERR_CODE = errCode;
		}

		MyException(String msg) {  // ìƒì„±ì
				this(msg,100);         // ERR_CODEë¥¼ 100(ê¸°ë³¸ê°’)ìœ¼ë¡œ ì´ˆê¸°í™”.
		}

		public int getErrCode() {  // ì—ëŸ¬ ì½”ë“œë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” ë©”ì„œë“œë„ ì¶”ê°€.
				return ERR_CODE;       // ì´ ë©”ì„œë“œëŠ” ì£¼ë¡œ getMessage()ì™€ í•¨ê»˜ ì‚¬ìš©.
		}
}
```

- ì´ì „ì˜ ì½”ë“œë¥¼ ì¢€ë” ê°œì„ í•˜ì—¬ ë©”ì„¸ì§€ ë¿ë§Œ ì•„ë‹ˆë¼ ì—ëŸ¬ì½”ë“œ ê°’ë„ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ ERR_CODEì™€ getErrCode()ë¥¼ MyExceptioní´ë˜ìŠ¤ì˜ ë©¤ë²„ë¡œ ì¶”ê°€í–ˆë‹¤.
- ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ MyExceptionì´ ë°œìƒí–ˆì„ ë•Œ, catchë¸”ëŸ­ì—ì„œ getMessage()ì™€ getErrCode()ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—ëŸ¬ì½”ë“œì™€ ë©”ì„¸ì§€ë¥¼ ëª¨ë‘ ì–»ì„ ìˆ˜ ìˆë‹¤.

> ê¸°ì¡´ì˜ ì˜ˆì™¸ í´ë˜ìŠ¤ëŠ” ì£¼ë¡œ Exceptionì„ ìƒì†ë°›ì•„ì„œ â€˜checkecdì˜ˆì™¸'ë¡œ ì‘ì„±í•˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ì§€ë§Œ,
ìš”ì¦˜ì€ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ì„ íƒì ìœ¼ë¡œ í•  ìˆ˜ ìˆë„ë¡ RuntimeExceptionì„ ìƒì†ë°›ì•„ì„œ ì‘ì„±í•˜ëŠ” ìª½ìœ¼ë¡œ ë°”ë€Œê³  ìˆë‹¤.
â€˜checkecdì˜ˆì™¸'ëŠ” ë°˜ë“œì‹œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì˜ˆì™¸ì²˜ë¦¬ê°€ ë¶ˆí•„ìš”í•  ê²½ìš°ì—ë„ try-catchë¬¸ì„ ë„£ì–´ ì½”ë“œê°€ ë³µì¡í•´ì§€ê¸° ë•Œë¬¸ì´ë‹¤.
> 

## ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ ë§Œë“¤ê¸° ì˜ˆì œ

```java
/*
ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ ë§Œë“¤ê¸°
 */
public class Ex8_11 {
    public static void main(String[] args) {
        try {
            startInstall();
            copyFile();
        } catch (SpaceException e) {
            System.out.println("ì—ëŸ¬ ë©”ì„¸ì§€ : " + e.getMessage());
            e.printStackTrace();
            System.out.println("ê³µê°„ì„ í™•ë³´í•œ í›„ ë‹¤ì‹œ ì„¤ì¹˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.");
        } catch (MemoryException me) {
            System.out.println("ì—ëŸ¬ ë©”ì„¸ì§€ : " + me.getMessage());
            me.printStackTrace();
            System.gc();        // Garbage Collectionì„ ìˆ˜í–‰í•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ ëŠ˜ë ¤ì¤€ë‹¤.
            System.out.println("ë‹¤ì‹œ ì„¤ì¹˜ë¥¼ ì‹œë„í•˜ì„¸ìš”.");
        } finally {
            deleteTempFiles();  // í”„ë¡œê·¸ë¨ ì„¤ì¹˜ì— ì‚¬ìš©ëœ ì„ì‹œíŒŒì¼ë“¤ì„ ì‚­ì œí•œë‹¤.
        }   // tryì˜ ë
    }   // mainì˜ ë

    static void startInstall() throws SpaceException, MemoryException {
        if(!enoughSpace())  // ì¶©ë¶„í•œ ì„¤ì¹˜ ê³µê°„ì´ ì—†ìœ¼ë©´..
            throw new SpaceException("ì„¤ì¹˜í•  ê³µê°„ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.");
        if(!enoughMemory()) // ì¶©ë¶„í•œ ë©”ëª¨ë¦¬ê°€ ì—†ìœ¼ë©´
            throw new MemoryException("ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.");
    }   // startInstallë©”ì„œë“œì˜ ë

    static void copyFile() {/* íŒŒì¼ë“¤ì„ ë³µì‚¬í•˜ëŠ” ì½”ë“œë¥¼ ì ëŠ”ë‹¤.*/}
    static void deleteTempFiles() {/* ì„ì‹œíŒŒì¼ë“¤ì„ ì‚­ì œí•˜ëŠ” ì½”ë“œë¥¼ ì ëŠ”ë‹¤.*/}

    static boolean enoughSpace() {
        // ì„¤ì¹˜í•˜ëŠ”ë° í•„ìš”í•œ ê³µê°„ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œë¥¼ ì ëŠ”ë‹¤.
        return false;
    }

    static boolean enoughMemory() {
        return true;
    }
}   // ExceptionTestí´ë˜ìŠ¤ì˜ ë

class SpaceException extends Exception {
    SpaceException(String msg) {
        super(msg);
    }
}

class MemoryException extends Exception {
    MemoryException(String msg) {
        super(msg);
    }
}
```

- MemoryExceptionê³¼ SpaceException ì´ ë‘ê°œì˜ ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í–ˆë‹¤.
- SpaceExceptionì€ í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜í•˜ë ¤ëŠ” ê³³ì— ì¶©ë¶„í•œ ê³µê°„ì´ ì—†ì„ ê²½ìš°ì— ë°œìƒí•˜ë„ë¡ í–ˆìœ¼ë©°,
- MemoryExceptionì€ ì„¤ì¹˜ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ë° ë©”ëª¨ë¦¬ê°€ ì¶©ë¶„íˆ í™•ë³´ë˜ì§€ ì•Šì•˜ì„ ê²½ìš° ë°œìƒí•˜ë„ë¡ í–ˆë‹¤.
- ì´ ë‘ ì˜ˆì™¸ëŠ” startInstall()ì„ ìˆ˜í–‰í•˜ëŠ” ë™ì•ˆ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©°,
- enoughSpace()ì™€ enoughMemory()ì˜ ì‹¤í–‰ê²°ê³¼ì— ë”°ë¼ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ ì¢…ë¥˜ê°€ ë‹¬ë¼ì§€ë„ë¡ í–ˆë‹¤.
    
    ğŸ’¢Â enoughSpace()ì™€ enoughMemory()ëŠ” falseì™€ trueë¥¼ ê°ê° ë°˜í™˜í•˜ì§€ë§Œ ì‚¬ì‹¤ì€ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ë¥¼ í™•ì¸í•˜ëŠ” ê¸°ëŠ¥ì„ í•œë‹¤ê³  ê°€ì •!
